EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:stm8s105k4t6c
LIBS:L9110
LIBS:LM1117
LIBS:s8205a
LIBS:MCU_module-cache
EELAYER 27 0
EELAYER END
$Descr A3 16535 11693
encoding utf-8
Sheet 1 2
Title ""
Date "20 oct 2014"
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L STM8S105K4T6C U1
U 1 1 52FB03A2
P 4400 3100
F 0 "U1" H 4400 4150 60  0000 C CNN
F 1 "STM8S105K4T6C" H 4450 2250 60  0000 C CNN
F 2 "~" H 4400 3100 60  0000 C CNN
F 3 "~" H 4400 3100 60  0000 C CNN
	1    4400 3100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR10
U 1 1 52FB03EF
P 2750 3200
F 0 "#PWR10" H 2750 3200 30  0001 C CNN
F 1 "GND" H 2750 3130 30  0001 C CNN
F 2 "" H 2750 3200 60  0000 C CNN
F 3 "" H 2750 3200 60  0000 C CNN
	1    2750 3200
	1    0    0    -1  
$EndComp
Wire Wire Line
	2750 3200 2750 3150
Wire Wire Line
	2750 3150 3000 3150
$Comp
L GND #PWR9
U 1 1 52FB0400
P 2750 2600
F 0 "#PWR9" H 2750 2600 30  0001 C CNN
F 1 "GND" H 2750 2530 30  0001 C CNN
F 2 "" H 2750 2600 60  0000 C CNN
F 3 "" H 2750 2600 60  0000 C CNN
	1    2750 2600
	1    0    0    -1  
$EndComp
Wire Wire Line
	2750 2600 2750 2550
Wire Wire Line
	2750 2550 3000 2550
$Comp
L C C1
U 1 1 52FB0413
P 2250 2700
F 0 "C1" H 2300 2800 50  0000 L CNN
F 1 "1u" H 2300 2600 50  0000 L CNN
F 2 "" H 2250 2700 60  0000 C CNN
F 3 "" H 2250 2700 60  0000 C CNN
	1    2250 2700
	0    -1   -1   0   
$EndComp
$Comp
L C C2
U 1 1 52FB0426
P 2250 2950
F 0 "C2" H 2300 3050 50  0000 L CNN
F 1 "104" H 2300 2850 50  0000 L CNN
F 2 "" H 2250 2950 60  0000 C CNN
F 3 "" H 2250 2950 60  0000 C CNN
	1    2250 2950
	0    -1   -1   0   
$EndComp
Wire Wire Line
	2450 2700 2850 2700
Wire Wire Line
	2850 2700 2850 2650
Wire Wire Line
	2850 2650 3000 2650
Wire Wire Line
	3000 2850 3000 2750
Wire Wire Line
	2450 2950 2450 2850
Wire Wire Line
	2450 2850 3000 2850
Wire Wire Line
	2050 2700 2050 3100
$Comp
L GND #PWR5
U 1 1 52FB0453
P 2050 3100
F 0 "#PWR5" H 2050 3100 30  0001 C CNN
F 1 "GND" H 2050 3030 30  0001 C CNN
F 2 "" H 2050 3100 60  0000 C CNN
F 3 "" H 2050 3100 60  0000 C CNN
	1    2050 3100
	1    0    0    -1  
$EndComp
Connection ~ 2050 2800
Connection ~ 2050 2950
Text Label 3000 2250 2    60   ~ 0
NRST
Text Label 3000 2350 2    60   ~ 0
OSC1IN
Text Label 3000 2450 2    60   ~ 0
OSC2IN
Text Label 3000 2950 2    60   ~ 0
PF4
Text Label 3000 3250 2    60   ~ 0
PB5
Text Label 3000 3350 2    60   ~ 0
PB4
Text Label 3000 3450 2    60   ~ 0
PB3
Text Label 3000 3550 2    60   ~ 0
PB2
Text Label 3000 3650 2    60   ~ 0
PB1
Text Label 3000 3750 2    60   ~ 0
PB0
Text Label 5800 3750 0    60   ~ 0
PE5
Text Label 5800 3650 0    60   ~ 0
PC1
Text Label 5800 3550 0    60   ~ 0
PC2
Text Label 5800 3450 0    60   ~ 0
PC3
Text Label 5800 3350 0    60   ~ 0
PC4
Text Label 5800 3250 0    60   ~ 0
PC5
Text Label 5800 3150 0    60   ~ 0
PC6
Text Label 5800 3050 0    60   ~ 0
PC7
Text Label 5800 2950 0    60   ~ 0
PD0
Text Label 5800 2850 0    60   ~ 0
SWIM/PD1
Text Label 5800 2750 0    60   ~ 0
PD2
Text Label 5800 2650 0    60   ~ 0
PD3
Text Label 5800 2550 0    60   ~ 0
PD4
Text Label 5800 2450 0    60   ~ 0
PD5
Text Label 5800 2350 0    60   ~ 0
PD6
Text Label 5800 2250 0    60   ~ 0
PD7
$Comp
L CONN_4 P2
U 1 1 52FB0A49
P 4350 1000
F 0 "P2" V 4300 1000 50  0000 C CNN
F 1 "CONN_4" V 4400 1000 50  0000 C CNN
F 2 "" H 4350 1000 60  0000 C CNN
F 3 "" H 4350 1000 60  0000 C CNN
	1    4350 1000
	1    0    0    -1  
$EndComp
$Comp
L CONN_14 P1
U 1 1 52FB0A6A
P 1250 1500
F 0 "P1" V 1220 1500 60  0000 C CNN
F 1 "CONN_14" V 1330 1500 60  0000 C CNN
F 2 "" H 1250 1500 60  0000 C CNN
F 3 "" H 1250 1500 60  0000 C CNN
	1    1250 1500
	-1   0    0    -1  
$EndComp
$Comp
L CONN_14 P5
U 1 1 52FB0A79
P 7100 1500
F 0 "P5" V 7070 1500 60  0000 C CNN
F 1 "CONN_14" V 7180 1500 60  0000 C CNN
F 2 "" H 7100 1500 60  0000 C CNN
F 3 "" H 7100 1500 60  0000 C CNN
	1    7100 1500
	1    0    0    -1  
$EndComp
Text Label 1600 1150 0    60   ~ 0
OSC1IN
Text Label 1600 1250 0    60   ~ 0
OSC2IN
Text Label 1600 1350 0    60   ~ 0
PF4
Text Label 1600 1450 0    60   ~ 0
PB5
Text Label 1600 1550 0    60   ~ 0
PB4
Text Label 1600 1650 0    60   ~ 0
PB3
Text Label 1600 1750 0    60   ~ 0
PB2
Text Label 1600 1850 0    60   ~ 0
PB1
Text Label 1600 1950 0    60   ~ 0
PB0
Text Label 1600 2050 0    60   ~ 0
PE5
Text Label 1600 2150 0    60   ~ 0
PC1
Text Label 1600 1050 0    60   ~ 0
NRST
Text Label 4000 950  2    60   ~ 0
SWIM/PD1
Text Label 4000 1050 2    60   ~ 0
NRST
Text Label 6750 850  2    60   ~ 0
PD7
Text Label 6750 950  2    60   ~ 0
PD6
Text Label 6750 1050 2    60   ~ 0
PD5
Text Label 6750 1150 2    60   ~ 0
PD4
Text Label 6750 1250 2    60   ~ 0
PD3
Text Label 6750 1350 2    60   ~ 0
PD2
Text Label 6750 1450 2    60   ~ 0
SWIM/PD1
Text Label 6750 1550 2    60   ~ 0
PD0
Text Label 6750 1650 2    60   ~ 0
PC7
Text Label 6750 1750 2    60   ~ 0
PC6
Text Label 6750 1850 2    60   ~ 0
PC5
Text Label 6750 1950 2    60   ~ 0
PC4
Text Label 6750 2050 2    60   ~ 0
PC3
Text Label 6750 2150 2    60   ~ 0
PC2
$Comp
L +3.3V #PWR1
U 1 1 52FB0DC4
P 950 2800
F 0 "#PWR1" H 950 2760 30  0001 C CNN
F 1 "+3.3V" H 950 2910 30  0000 C CNN
F 2 "" H 950 2800 60  0000 C CNN
F 3 "" H 950 2800 60  0000 C CNN
	1    950  2800
	1    0    0    -1  
$EndComp
$Comp
L LED D1
U 1 1 52FB0DD3
P 950 3100
F 0 "D1" H 950 3200 50  0000 C CNN
F 1 "LED" H 950 3000 50  0000 C CNN
F 2 "" H 950 3100 60  0000 C CNN
F 3 "" H 950 3100 60  0000 C CNN
	1    950  3100
	0    1    1    0   
$EndComp
$Comp
L R R1
U 1 1 52FB0DE2
P 950 3600
F 0 "R1" V 1030 3600 50  0000 C CNN
F 1 "1k" V 950 3600 50  0000 C CNN
F 2 "" H 950 3600 60  0000 C CNN
F 3 "" H 950 3600 60  0000 C CNN
	1    950  3600
	1    0    0    -1  
$EndComp
Wire Wire Line
	950  2800 950  2900
Wire Wire Line
	950  3300 950  3350
Wire Wire Line
	950  3850 950  3950
$Comp
L +3.3V #PWR2
U 1 1 52FB0EC7
P 1300 2800
F 0 "#PWR2" H 1300 2760 30  0001 C CNN
F 1 "+3.3V" H 1300 2910 30  0000 C CNN
F 2 "" H 1300 2800 60  0000 C CNN
F 3 "" H 1300 2800 60  0000 C CNN
	1    1300 2800
	1    0    0    -1  
$EndComp
$Comp
L LED D2
U 1 1 52FB0ECD
P 1300 3100
F 0 "D2" H 1300 3200 50  0000 C CNN
F 1 "LED" H 1300 3000 50  0000 C CNN
F 2 "" H 1300 3100 60  0000 C CNN
F 3 "" H 1300 3100 60  0000 C CNN
	1    1300 3100
	0    1    1    0   
$EndComp
$Comp
L R R2
U 1 1 52FB0ED3
P 1300 3600
F 0 "R2" V 1380 3600 50  0000 C CNN
F 1 "1k" V 1300 3600 50  0000 C CNN
F 2 "" H 1300 3600 60  0000 C CNN
F 3 "" H 1300 3600 60  0000 C CNN
	1    1300 3600
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR3
U 1 1 52FB0ED9
P 1300 3950
F 0 "#PWR3" H 1300 3950 30  0001 C CNN
F 1 "GND" H 1300 3880 30  0001 C CNN
F 2 "" H 1300 3950 60  0000 C CNN
F 3 "" H 1300 3950 60  0000 C CNN
	1    1300 3950
	1    0    0    -1  
$EndComp
Wire Wire Line
	1300 2800 1300 2900
Wire Wire Line
	1300 3300 1300 3350
Wire Wire Line
	1300 3850 1300 3950
Text Label 950  3950 2    60   ~ 0
PC2
$Comp
L +3.3V #PWR18
U 1 1 52FB0EF1
P 6500 2550
F 0 "#PWR18" H 6500 2510 30  0001 C CNN
F 1 "+3.3V" H 6500 2660 30  0000 C CNN
F 2 "" H 6500 2550 60  0000 C CNN
F 3 "" H 6500 2550 60  0000 C CNN
	1    6500 2550
	1    0    0    -1  
$EndComp
$Comp
L R R3
U 1 1 52FB0EFD
P 6500 2900
F 0 "R3" V 6580 2900 50  0000 C CNN
F 1 "10k" V 6500 2900 50  0000 C CNN
F 2 "" H 6500 2900 60  0000 C CNN
F 3 "" H 6500 2900 60  0000 C CNN
	1    6500 2900
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR19
U 1 1 52FB0F03
P 6500 4050
F 0 "#PWR19" H 6500 4050 30  0001 C CNN
F 1 "GND" H 6500 3980 30  0001 C CNN
F 2 "" H 6500 4050 60  0000 C CNN
F 3 "" H 6500 4050 60  0000 C CNN
	1    6500 4050
	1    0    0    -1  
$EndComp
Wire Wire Line
	6500 2550 6500 2650
Wire Wire Line
	6500 3850 6500 4050
$Comp
L SW_PUSH SW4
U 1 1 52FB0F3B
P 6500 3550
F 0 "SW4" H 6650 3660 50  0000 C CNN
F 1 "SW_PUSH" H 6500 3470 50  0000 C CNN
F 2 "" H 6500 3550 60  0000 C CNN
F 3 "" H 6500 3550 60  0000 C CNN
	1    6500 3550
	0    -1   -1   0   
$EndComp
Wire Wire Line
	6500 3150 6500 3250
$Comp
L C C3
U 1 1 52FB0F99
P 6900 3550
F 0 "C3" H 6950 3650 50  0000 L CNN
F 1 "104" H 6950 3450 50  0000 L CNN
F 2 "" H 6900 3550 60  0000 C CNN
F 3 "" H 6900 3550 60  0000 C CNN
	1    6900 3550
	1    0    0    -1  
$EndComp
Wire Wire Line
	6900 3200 6900 3350
Wire Wire Line
	6900 3750 6900 3900
Wire Wire Line
	6900 3900 6500 3900
Connection ~ 6500 3900
Wire Wire Line
	6500 3200 6900 3200
Connection ~ 6500 3200
Text Label 6650 3200 0    60   ~ 0
NRST
$Comp
L +3.3V #PWR6
U 1 1 52FB2273
P 2150 850
F 0 "#PWR6" H 2150 810 30  0001 C CNN
F 1 "+3.3V" H 2150 960 30  0000 C CNN
F 2 "" H 2150 850 60  0000 C CNN
F 3 "" H 2150 850 60  0000 C CNN
	1    2150 850 
	1    0    0    -1  
$EndComp
Wire Wire Line
	1600 850  2150 850 
$Comp
L GND #PWR7
U 1 1 52FB2296
P 2150 1000
F 0 "#PWR7" H 2150 1000 30  0001 C CNN
F 1 "GND" H 2150 930 30  0001 C CNN
F 2 "" H 2150 1000 60  0000 C CNN
F 3 "" H 2150 1000 60  0000 C CNN
	1    2150 1000
	1    0    0    -1  
$EndComp
Wire Wire Line
	1600 950  2150 950 
Wire Wire Line
	2150 950  2150 1000
Wire Wire Line
	2600 3050 3000 3050
Wire Wire Line
	2750 3050 2750 2850
Connection ~ 2750 2850
$Comp
L +3.3V #PWR8
U 1 1 52FB26FA
P 2600 3000
F 0 "#PWR8" H 2600 2960 30  0001 C CNN
F 1 "+3.3V" H 2600 3110 30  0000 C CNN
F 2 "" H 2600 3000 60  0000 C CNN
F 3 "" H 2600 3000 60  0000 C CNN
	1    2600 3000
	1    0    0    -1  
$EndComp
Wire Wire Line
	2600 3000 2600 3050
Connection ~ 2750 3050
$Comp
L +3.3V #PWR11
U 1 1 52FB286D
P 4000 750
F 0 "#PWR11" H 4000 710 30  0001 C CNN
F 1 "+3.3V" H 4000 860 30  0000 C CNN
F 2 "" H 4000 750 60  0000 C CNN
F 3 "" H 4000 750 60  0000 C CNN
	1    4000 750 
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR12
U 1 1 52FB287C
P 4000 1300
F 0 "#PWR12" H 4000 1300 30  0001 C CNN
F 1 "GND" H 4000 1230 30  0001 C CNN
F 2 "" H 4000 1300 60  0000 C CNN
F 3 "" H 4000 1300 60  0000 C CNN
	1    4000 1300
	1    0    0    -1  
$EndComp
Wire Wire Line
	4000 1300 4000 1150
Wire Wire Line
	4000 850  4000 750 
Wire Notes Line
	600  500  600  4200
Wire Notes Line
	600  4200 7500 4200
Wire Notes Line
	7500 4200 7500 500 
Wire Notes Line
	7500 500  600  500 
Text Notes 3550 4450 0    118  ~ 0
STM8 board
$Comp
L CONN_5 P6
U 1 1 52FB4AA7
P 8700 1450
F 0 "P6" V 8650 1450 50  0000 C CNN
F 1 "CONN_5" V 8750 1450 50  0000 C CNN
F 2 "" H 8700 1450 60  0000 C CNN
F 3 "" H 8700 1450 60  0000 C CNN
	1    8700 1450
	-1   0    0    1   
$EndComp
Text Notes 8050 1050 0    118  ~ 0
USB <-> TTL
Text Label 9100 1250 0    61   ~ 0
GND
Text Label 9100 1350 0    61   ~ 0
RXD
Text Label 9100 1450 0    61   ~ 0
TXD
Text Label 9100 1550 0    61   ~ 0
5.0V
Text Label 9100 1650 0    61   ~ 0
3.3V
$Comp
L GND #PWR24
U 1 1 52FB4CEF
P 10100 1350
F 0 "#PWR24" H 10100 1350 30  0001 C CNN
F 1 "GND" H 10100 1280 30  0001 C CNN
F 2 "" H 10100 1350 60  0000 C CNN
F 3 "" H 10100 1350 60  0000 C CNN
	1    10100 1350
	1    0    0    -1  
$EndComp
Wire Wire Line
	9100 1250 10100 1250
Wire Wire Line
	10100 1250 10100 1350
Wire Wire Line
	9100 1350 9700 1350
Wire Wire Line
	9700 1350 9700 950 
Wire Wire Line
	9100 1450 10300 1450
Wire Wire Line
	10300 1450 10300 950 
$Comp
L +3.3V #PWR26
U 1 1 52FB4EDC
P 10500 1550
F 0 "#PWR26" H 10500 1510 30  0001 C CNN
F 1 "+3.3V" H 10500 1660 30  0000 C CNN
F 2 "" H 10500 1550 60  0000 C CNN
F 3 "" H 10500 1550 60  0000 C CNN
	1    10500 1550
	1    0    0    -1  
$EndComp
Wire Wire Line
	9100 1650 10500 1650
Wire Wire Line
	10500 1650 10500 1550
NoConn ~ 9100 1550
Text Label 9700 950  0    61   ~ 0
PD5
Text Label 10300 950  0    61   ~ 0
PD6
Text Label 1200 5800 2    60   ~ 0
PC1
Text Label 4000 6200 2    60   ~ 0
PB3
Text Label 4000 6300 2    60   ~ 0
PB2
Text Label 4000 5450 2    60   ~ 0
PB1
Text Label 4000 5550 2    60   ~ 0
PB0
$Sheet
S 1350 5600 750  650 
U 53EF036E
F0 "Drill motor" 50
F1 "drill.sch" 50
F2 "PWM_in" I L 1350 5800 60 
F3 "Sence" O L 1350 6050 60 
$EndSheet
Wire Wire Line
	1200 5800 1350 5800
Text Label 1200 6050 2    60   ~ 0
PF4
Wire Wire Line
	1200 6050 1350 6050
$Comp
L L9110 DA1
U 1 1 53F0EE9F
P 4600 5500
F 0 "DA1" H 4600 5200 50  0000 C CNN
F 1 "L9110" H 4600 5800 50  0000 C CNN
F 2 "" H 4600 5500 50  0001 C CNN
F 3 "" H 4600 5500 50  0001 C CNN
	1    4600 5500
	-1   0    0    -1  
$EndComp
$Comp
L L9110 DA2
U 1 1 53F0EF24
P 4600 6250
F 0 "DA2" H 4600 5950 50  0000 C CNN
F 1 "L9110" H 4600 6550 50  0000 C CNN
F 2 "" H 4600 6250 50  0001 C CNN
F 3 "" H 4600 6250 50  0001 C CNN
	1    4600 6250
	-1   0    0    -1  
$EndComp
$Comp
L L9110 DA3
U 1 1 53F0EF3C
P 4600 7650
F 0 "DA3" H 4600 7350 50  0000 C CNN
F 1 "L9110" H 4600 7950 50  0000 C CNN
F 2 "" H 4600 7650 50  0001 C CNN
F 3 "" H 4600 7650 50  0001 C CNN
	1    4600 7650
	-1   0    0    -1  
$EndComp
$Comp
L CONN_4 P3
U 1 1 53F0F09A
P 6100 5850
F 0 "P3" V 6050 5850 50  0000 C CNN
F 1 "Stepper" V 6150 5850 50  0000 C CNN
F 2 "" H 6100 5850 60  0000 C CNN
F 3 "" H 6100 5850 60  0000 C CNN
	1    6100 5850
	1    0    0    -1  
$EndComp
Wire Wire Line
	5200 5450 5200 5550
Wire Wire Line
	5200 6200 5200 6300
Wire Wire Line
	3700 6400 4000 6400
Wire Wire Line
	3700 6400 3700 6100
Wire Wire Line
	3700 6100 4000 6100
Wire Wire Line
	4000 6100 4000 5650
Wire Wire Line
	4000 5650 3700 5650
Wire Wire Line
	3700 5650 3700 5350
Wire Wire Line
	3700 5350 4000 5350
$Comp
L GND #PWR13
U 1 1 53F0F2B8
P 4000 6500
F 0 "#PWR13" H 4000 6500 30  0001 C CNN
F 1 "GND" H 4000 6430 30  0001 C CNN
F 2 "" H 4000 6500 60  0000 C CNN
F 3 "" H 4000 6500 60  0000 C CNN
	1    4000 6500
	1    0    0    -1  
$EndComp
Wire Wire Line
	4000 6400 4000 6500
Connection ~ 4000 6400
Connection ~ 4000 6100
Connection ~ 4000 5650
Connection ~ 4000 5350
Wire Wire Line
	5200 5500 5350 5500
Wire Wire Line
	5350 5500 5350 6250
Wire Wire Line
	5350 6250 5200 6250
Connection ~ 5200 6250
Connection ~ 5200 5500
Wire Wire Line
	5100 5900 5350 5900
Connection ~ 5350 5900
$Comp
L +5V #PWR16
U 1 1 53F0F5FC
P 5100 5900
F 0 "#PWR16" H 5100 5990 20  0001 C CNN
F 1 "+5V" H 5100 5990 30  0000 C CNN
F 2 "" H 5100 5900 60  0000 C CNN
F 3 "" H 5100 5900 60  0000 C CNN
	1    5100 5900
	1    0    0    -1  
$EndComp
$Comp
L LM1117MPX-3.3 U2
U 1 1 53F0F811
P 9450 2950
F 0 "U2" H 9250 3150 40  0000 C CNN
F 1 "LM1117MPX-3.3" H 9450 3150 40  0000 L CNN
F 2 "SOT223" H 9450 3050 30  0001 C CIN
F 3 "~" H 9450 2950 60  0000 C CNN
	1    9450 2950
	1    0    0    -1  
$EndComp
$Comp
L C C4
U 1 1 53F0F83E
P 8800 3100
F 0 "C4" H 8800 3200 40  0000 L CNN
F 1 "0.1u" H 8806 3015 40  0000 L CNN
F 2 "SM0603" H 8838 2950 30  0001 C CNN
F 3 "~" H 8800 3100 60  0000 C CNN
	1    8800 3100
	1    0    0    -1  
$EndComp
$Comp
L CP1 C5
U 1 1 53F0F88C
P 10000 3100
F 0 "C5" H 10050 3200 50  0000 L CNN
F 1 "47u" H 10050 3000 50  0000 L CNN
F 2 "SM1206" H 10000 3100 60  0001 C CNN
F 3 "~" H 10000 3100 60  0000 C CNN
	1    10000 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	8300 2900 9050 2900
Wire Wire Line
	9850 2900 10200 2900
Wire Wire Line
	8800 3300 10000 3300
Wire Wire Line
	9450 3200 9450 3400
Connection ~ 9450 3300
$Comp
L GND #PWR23
U 1 1 53F0FCF1
P 9450 3400
F 0 "#PWR23" H 9450 3400 30  0001 C CNN
F 1 "GND" H 9450 3330 30  0001 C CNN
F 2 "" H 9450 3400 60  0000 C CNN
F 3 "" H 9450 3400 60  0000 C CNN
	1    9450 3400
	1    0    0    -1  
$EndComp
$Comp
L CONN_3 K1
U 1 1 53F0FD67
P 7950 2900
F 0 "K1" V 7900 2900 50  0000 C CNN
F 1 "POWER" V 8000 2900 40  0000 C CNN
F 2 "" H 7950 2900 60  0000 C CNN
F 3 "" H 7950 2900 60  0000 C CNN
	1    7950 2900
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR21
U 1 1 53F0FD7A
P 8350 3100
F 0 "#PWR21" H 8350 3100 30  0001 C CNN
F 1 "GND" H 8350 3030 30  0001 C CNN
F 2 "" H 8350 3100 60  0000 C CNN
F 3 "" H 8350 3100 60  0000 C CNN
	1    8350 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	8300 3000 8550 3000
Wire Wire Line
	8350 3000 8350 3100
Connection ~ 8800 2900
$Comp
L +5V #PWR22
U 1 1 53F0FE51
P 8800 2850
F 0 "#PWR22" H 8800 2940 20  0001 C CNN
F 1 "+5V" H 8800 2940 30  0000 C CNN
F 2 "" H 8800 2850 60  0000 C CNN
F 3 "" H 8800 2850 60  0000 C CNN
	1    8800 2850
	1    0    0    -1  
$EndComp
Wire Wire Line
	8800 2900 8800 2850
$Comp
L +12V #PWR20
U 1 1 53F0FEBE
P 8350 2750
F 0 "#PWR20" H 8350 2700 20  0001 C CNN
F 1 "+12V" H 8350 2850 30  0000 C CNN
F 2 "" H 8350 2750 60  0000 C CNN
F 3 "" H 8350 2750 60  0000 C CNN
	1    8350 2750
	1    0    0    -1  
$EndComp
Wire Wire Line
	8350 2750 8350 2800
Wire Wire Line
	8350 2800 8300 2800
$Comp
L +3.3V #PWR25
U 1 1 53F1006E
P 10200 2850
F 0 "#PWR25" H 10200 2810 30  0001 C CNN
F 1 "+3.3V" H 10200 2960 30  0000 C CNN
F 2 "" H 10200 2850 60  0000 C CNN
F 3 "" H 10200 2850 60  0000 C CNN
	1    10200 2850
	1    0    0    -1  
$EndComp
Wire Wire Line
	10200 2900 10200 2850
Connection ~ 10000 2900
Wire Wire Line
	5750 5700 5500 5700
Wire Wire Line
	5500 5700 5500 5350
Wire Wire Line
	5500 5350 5200 5350
Wire Wire Line
	5200 5650 5250 5650
Wire Wire Line
	5250 5650 5250 5800
Wire Wire Line
	5250 5800 5750 5800
Wire Wire Line
	5750 5900 5450 5900
Wire Wire Line
	5450 5900 5450 6100
Wire Wire Line
	5450 6100 5200 6100
Wire Wire Line
	5750 6000 5600 6000
Wire Wire Line
	5600 6000 5600 6400
Wire Wire Line
	5600 6400 5200 6400
Text Label 4000 7700 2    60   ~ 0
PD2
Text Label 4000 7600 2    60   ~ 0
PD3
Wire Wire Line
	4000 7800 3700 7800
Wire Wire Line
	3700 7800 3700 7500
Wire Wire Line
	3700 7500 4000 7500
Wire Wire Line
	5200 7600 5200 7700
$Comp
L GND #PWR14
U 1 1 53F11196
P 4000 7900
F 0 "#PWR14" H 4000 7900 30  0001 C CNN
F 1 "GND" H 4000 7830 30  0001 C CNN
F 2 "" H 4000 7900 60  0000 C CNN
F 3 "" H 4000 7900 60  0000 C CNN
	1    4000 7900
	1    0    0    -1  
$EndComp
Wire Wire Line
	4000 7900 4000 7800
Connection ~ 4000 7800
$Comp
L +5V #PWR17
U 1 1 53F11209
P 5300 7650
F 0 "#PWR17" H 5300 7740 20  0001 C CNN
F 1 "+5V" H 5300 7740 30  0000 C CNN
F 2 "" H 5300 7650 60  0000 C CNN
F 3 "" H 5300 7650 60  0000 C CNN
	1    5300 7650
	1    0    0    -1  
$EndComp
Wire Wire Line
	5200 7650 5300 7650
Connection ~ 5200 7650
Wire Notes Line
	3550 4850 3550 6750
Wire Notes Line
	3550 6750 5700 6750
Wire Notes Line
	5700 6750 5700 4850
Wire Notes Line
	5700 4850 3550 4850
Text Notes 3850 5000 0    60   ~ 0
Stepper motor module
$Comp
L CONN_2 P4
U 1 1 53F1169C
P 6100 7650
F 0 "P4" V 6050 7650 40  0000 C CNN
F 1 "Slide" V 6150 7650 40  0000 C CNN
F 2 "" H 6100 7650 60  0000 C CNN
F 3 "" H 6100 7650 60  0000 C CNN
	1    6100 7650
	1    0    0    -1  
$EndComp
Wire Wire Line
	5200 7500 5500 7500
Wire Wire Line
	5500 7500 5500 7550
Wire Wire Line
	5500 7550 5750 7550
Wire Wire Line
	5200 7800 5500 7800
Wire Wire Line
	5500 7800 5500 7750
Wire Wire Line
	5500 7750 5750 7750
Wire Notes Line
	3550 7050 3550 8850
Wire Notes Line
	5700 7050 5700 8850
Wire Notes Line
	5700 7050 3550 7050
Text Notes 3800 7200 0    60   ~ 0
Slider (tray) motor
$Comp
L PWR_FLAG #FLG1
U 1 1 53F11FC5
P 8550 2750
F 0 "#FLG1" H 8550 2845 30  0001 C CNN
F 1 "PWR_FLAG" H 8550 2930 30  0000 C CNN
F 2 "" H 8550 2750 60  0000 C CNN
F 3 "" H 8550 2750 60  0000 C CNN
	1    8550 2750
	1    0    0    -1  
$EndComp
Wire Wire Line
	8550 2750 8350 2750
$Comp
L PWR_FLAG #FLG2
U 1 1 53F12233
P 8550 3000
F 0 "#FLG2" H 8550 3095 30  0001 C CNN
F 1 "PWR_FLAG" H 8550 3180 30  0000 C CNN
F 2 "" H 8550 3000 60  0000 C CNN
F 3 "" H 8550 3000 60  0000 C CNN
	1    8550 3000
	-1   0    0    1   
$EndComp
Connection ~ 8350 3000
$Comp
L PWR_FLAG #FLG3
U 1 1 53F122D9
P 9000 2800
F 0 "#FLG3" H 9000 2895 30  0001 C CNN
F 1 "PWR_FLAG" H 9000 2980 30  0000 C CNN
F 2 "" H 9000 2800 60  0000 C CNN
F 3 "" H 9000 2800 60  0000 C CNN
	1    9000 2800
	1    0    0    -1  
$EndComp
Wire Wire Line
	9000 2800 9000 2900
Connection ~ 9000 2900
$Comp
L SW_PUSH SW2
U 1 1 53F12B09
P 4150 8400
F 0 "SW2" H 4300 8510 50  0000 C CNN
F 1 "BTN1" H 4150 8320 50  0000 C CNN
F 2 "~" H 4150 8400 60  0000 C CNN
F 3 "~" H 4150 8400 60  0000 C CNN
	1    4150 8400
	1    0    0    -1  
$EndComp
$Comp
L SW_PUSH SW3
U 1 1 53F12B1C
P 5050 8400
F 0 "SW3" H 5200 8510 50  0000 C CNN
F 1 "BTN2" H 5050 8320 50  0000 C CNN
F 2 "~" H 5050 8400 60  0000 C CNN
F 3 "~" H 5050 8400 60  0000 C CNN
	1    5050 8400
	1    0    0    -1  
$EndComp
Wire Wire Line
	4450 8400 4750 8400
$Comp
L GND #PWR15
U 1 1 53F12BC1
P 4600 8700
F 0 "#PWR15" H 4600 8700 30  0001 C CNN
F 1 "GND" H 4600 8630 30  0001 C CNN
F 2 "" H 4600 8700 60  0000 C CNN
F 3 "" H 4600 8700 60  0000 C CNN
	1    4600 8700
	1    0    0    -1  
$EndComp
Wire Wire Line
	4600 8100 4600 8700
Connection ~ 4600 8400
Text Label 5350 8100 0    60   ~ 0
PC3
Text Label 3850 8100 2    60   ~ 0
PC4
$Comp
L SW_PUSH SW1
U 1 1 53F13089
P 1650 6750
F 0 "SW1" H 1800 6860 50  0000 C CNN
F 1 "DRILL" H 1650 6670 50  0000 C CNN
F 2 "~" H 1650 6750 60  0000 C CNN
F 3 "~" H 1650 6750 60  0000 C CNN
	1    1650 6750
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR4
U 1 1 53F130B8
P 1950 6950
F 0 "#PWR4" H 1950 6950 30  0001 C CNN
F 1 "GND" H 1950 6880 30  0001 C CNN
F 2 "" H 1950 6950 60  0000 C CNN
F 3 "" H 1950 6950 60  0000 C CNN
	1    1950 6950
	1    0    0    -1  
$EndComp
Wire Wire Line
	1950 6950 1950 6750
Text Label 1350 6750 2    60   ~ 0
PC5
Wire Notes Line
	750  4750 750  7150
Wire Notes Line
	750  7150 2350 7150
Wire Notes Line
	2350 7150 2350 4750
Wire Notes Line
	2350 4750 750  4750
Text Notes 1050 5000 0    60   ~ 0
Drill motor
Text Notes 850  7450 0    60   ~ 0
"DRILL" is foot-switch.\nPress it to move drill down,\nrelease to return it to start position.\nDouble-click turns drill motor on/off.\n
Text Notes 6350 7250 0    60   ~ 0
Two buttons on tray have following functionality:\nBTN1 - setup zero point (move slowly + set coordinate\n  to 0 after footswitch released); next pressing returns\n  device to normal state;\nBTN2 - switch between regulation of drill speed/stepper speed;\nBTN1+BTN2 (simultaneously) - move tray up/down.\n\n"volume" varistor allows to regulate motor speed.\nDefault is max drill speed, varistor regulates stepper speed.
$Comp
L POT RV1
U 1 1 54442B33
P 5000 8650
F 0 "RV1" H 5000 8550 50  0000 C CNN
F 1 "POT" H 5000 8650 50  0000 C CNN
F 2 "" H 5000 8650 60  0000 C CNN
F 3 "" H 5000 8650 60  0000 C CNN
	1    5000 8650
	-1   0    0    1   
$EndComp
Wire Wire Line
	5000 8800 5250 8800
Wire Wire Line
	5250 8800 5250 8650
Wire Wire Line
	4750 8650 4600 8650
Connection ~ 5250 8650
Wire Notes Line
	5700 8850 3550 8850
Text Notes 5950 3650 0    60   ~ 0
Drill PWM
Text Notes 2900 2850 2    60   ~ 0
Drill sense
Wire Notes Line
	2900 2950 2800 2950
Wire Notes Line
	2800 2950 2800 2900
Text Notes 6000 3250 0    60   ~ 0
Drill SW
Wire Notes Line
	2850 3750 2800 3750
Wire Notes Line
	2800 3750 2800 3400
Text Notes 2750 3600 2    60   ~ 0
Stepper phases
Text Notes 6000 2700 0    60   ~ 0
Tray bridge
Text Notes 6000 3150 0    60   ~ 0
BTN1
Text Notes 6000 3050 0    60   ~ 0
BTN2
Connection ~ 4600 8650
Wire Wire Line
	5250 8650 5400 8650
Text Notes 2800 3350 2    60   ~ 0
Rvar
Text Label 5400 8650 0    60   ~ 0
PB4
$Comp
L SW_PUSH SW5
U 1 1 54442832
P 4150 8100
F 0 "SW5" H 4300 8210 50  0000 C CNN
F 1 "UP" H 4150 8020 50  0000 C CNN
F 2 "~" H 4150 8100 60  0000 C CNN
F 3 "~" H 4150 8100 60  0000 C CNN
	1    4150 8100
	1    0    0    -1  
$EndComp
$Comp
L SW_PUSH SW6
U 1 1 54442838
P 5050 8100
F 0 "SW6" H 5200 8210 50  0000 C CNN
F 1 "DOWN" H 5050 8020 50  0000 C CNN
F 2 "~" H 5050 8100 60  0000 C CNN
F 3 "~" H 5050 8100 60  0000 C CNN
	1    5050 8100
	1    0    0    -1  
$EndComp
Text Notes 5950 3450 0    60   ~ 0
Tray Down
Text Notes 6000 3350 0    60   ~ 0
Tray Up
Text Label 5350 8400 0    60   ~ 0
PC7
Text Label 3850 8400 2    60   ~ 0
PC6
Wire Wire Line
	4450 8100 4750 8100
Connection ~ 4600 8100
Text Notes 6450 4500 0    60   ~ 0
All MCU inputs connected to switches\nshould be in "pull-up input" mode.
Text Notes 5950 3550 0    60   ~ 0
LED onbrd
Wire Notes Line
	5950 2450 6000 2450
Wire Notes Line
	6000 2450 6000 2300
Text Notes 6050 2400 0    60   ~ 0
UART
Wire Notes Line
	5950 2750 6000 2750
Wire Notes Line
	6000 2750 6000 2600
$EndSCHEMATC
